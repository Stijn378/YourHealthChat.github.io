<canvas id="confetti-canvas"></canvas>
<div id="flat-chat"></div>
<div id="voiceflow-chat-frame"></div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<!-- Calendly link widget begin -->
<link href="https://nextsolutionai.github.io/voiceflow/calendly.css" rel="stylesheet" />
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
<!-- Calendly link widget end -->
<script type="module">
  import {
    VideoExtension,
    TimerExtension,
    FormExtension,
    MapExtension,
    FileUploadExtension,
    KBUploadExtension,
    DateExtension,
    ConfettiExtension,
    FeedbackExtension,
    CalendlyExtension,
    MultiSelectExtension,
    DisableInputExtension,
    BrowserDataExtension,
    CustomImageExtension,
    DropdownExtension,
    CarouselExtension,
    CustomScreenExtension,
    SkipButtonExtension,
    SettingsScreenExtension,
    RankOptionsExtension,
    StripeBuyButtonExtension,
    PlaceholderExtension,
    DelayEffectExtension,
    ActivateAvatarExtension,
    LanguageDetectionExtension,
  } from "./extensions.js";

  (function (d, t) {
    var v = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    v.onload = function () {
      window.voiceflow.chat.load({
        verify: { projectID: "6719113b6ce934a50f019335" },
        url: "https://general-runtime.voiceflow.com",
        versionID: "production",
        launch: {
          event: {
            type: "launch",
            payload: {
              currentURL: window.location.href,
              currentTime: new Date().toISOString(), 
              userLanguage: navigator.language || navigator.userLanguage
            },
          },
        },
        render: {
          mode: "overlay",
        },
        autostart: true,
        allowDangerousHTML: true,
        assistant: {
          stylesheet: "test.css",
          feedback: true,
          extensions: [
            CalendlyExtension,
            MapExtension,
            DateExtension,
            FormExtension,
            ConfettiExtension,
            FileUploadExtension,
            VideoExtension,
            FeedbackExtension,
            TimerExtension,
            KBUploadExtension,
            MultiSelectExtension,
            DisableInputExtension,
            BrowserDataExtension,
            CustomImageExtension,
            DropdownExtension,
            CarouselExtension,
            CustomScreenExtension,
            SkipButtonExtension,
            SettingsScreenExtension,
            RankOptionsExtension,
            StripeBuyButtonExtension,
            PlaceholderExtension,
            DelayEffectExtension,
            ActivateAvatarExtension,
            LanguageDetectionExtension,
          ],
        },
      });
    };

    v.src = "./bundle.mjs";
    v.type = "text/javascript";
    s.parentNode.insertBefore(v, s);
  })(document, "script");
</script> 